{% if section.settings.message %}
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      var announcementBar = document.querySelector(".announcement-bar");
      var messageText = "{{ section.settings.message_text | escape }}";
      var numberOfMessages = 3; // Anzahl der gleichzeitig angezeigten Schriftzüge
      var animationDuration = 5000; // Dauer der Animation in Millisekunden
      var animationDelay = animationDuration / numberOfMessages; // Verzögerung zwischen den Animationen

      for (var i = 0; i < numberOfMessages; i++) {
        var message = document.createElement("p");
        message.textContent = messageText;
        announcementBar.appendChild(message);

        // Animation für jeden Schriftzug
        setTimeout(function(msg) {
          return function() {
            msg.style.transform = "translateX(100%)";
          };
        }(message), i * animationDelay);
      }
    });
  </script>
{% endif %}